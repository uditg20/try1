{"ast":null,"code":"import _objectSpread from\"/workspace/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import Plot from'react-plotly.js';/**\n * Data Center Power Flow Study - Static UI\n * \n * This is a PLANNING-LEVEL visualization tool.\n * It loads precomputed power flow results and displays them.\n * There is NO live simulation or calculation in the browser.\n * \n * Purpose: Educational and explanatory\n * NOT for: Operational decisions or interconnection approval\n */// Constants for scenario filtering\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LOAD_TYPES=[{id:'all',label:'All Load Types'},{id:'training',label:'Training'},{id:'inference',label:'Inference'},{id:'mixed',label:'Mixed'}];const ARCHITECTURES=[{id:'all',label:'All Architectures'},{id:'ac_traditional',label:'AC Traditional'},{id:'dc_48v',label:'48V DC'},{id:'dc_800v',label:'800V DC'}];const BESS_OPTIONS=[{id:'all',label:'All BESS Options'},{id:'no_bess',label:'No BESS'},{id:'with_bess',label:'With BESS'}];// Chart colors\nconst COLORS={voltage:'#3182ce',transformer:'#805ad5',gridMW:'#38a169',gridMVAr:'#319795',load:'#d69e2e',bess:'#e53e3e',soc:'#dd6b20'};// Plotly layout defaults\nconst defaultLayout={autosize:true,margin:{l:60,r:30,t:40,b:50},paper_bgcolor:'transparent',plot_bgcolor:'white',font:{family:'Inter, sans-serif',size:12},xaxis:{title:'Time (hours)',gridcolor:'#e2e8f0',linecolor:'#cbd5e0'},yaxis:{gridcolor:'#e2e8f0',linecolor:'#cbd5e0'},legend:{orientation:'h',yanchor:'bottom',y:1.02,xanchor:'right',x:1}};function App(){const[data,setData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Filters\nconst[selectedLoadType,setSelectedLoadType]=useState('all');const[selectedArchitecture,setSelectedArchitecture]=useState('all');const[selectedBESS,setSelectedBESS]=useState('all');const[selectedScenario,setSelectedScenario]=useState(null);// Load data on mount\nuseEffect(()=>{async function loadData(){try{// Try to load the simulation results\nconst response=await fetch('./data/simulation_results.json');if(!response.ok){throw new Error('Failed to load simulation results');}const jsonData=await response.json();setData(jsonData);// Select first scenario by default\nif(jsonData.scenarios&&jsonData.scenarios.length>0){setSelectedScenario(jsonData.scenarios[0].name);}}catch(err){console.error('Error loading data:',err);setError(err.message);// Load sample data for development\ntry{const sampleResponse=await fetch('./data/sample_results.json');if(sampleResponse.ok){const sampleData=await sampleResponse.json();setData(sampleData);if(sampleData.scenarios&&sampleData.scenarios.length>0){setSelectedScenario(sampleData.scenarios[0].name);}setError(null);}}catch(sampleErr){// Keep original error\n}}finally{setLoading(false);}}loadData();},[]);// Filter scenarios\nconst filteredScenarios=useMemo(()=>{if(!data||!data.scenarios)return[];return data.scenarios.filter(scenario=>{if(selectedLoadType!=='all'&&scenario.load_type!==selectedLoadType){return false;}if(selectedArchitecture!=='all'&&scenario.architecture!==selectedArchitecture){return false;}if(selectedBESS!=='all'){const hasBESS=scenario.bess_mw&&Math.max(...scenario.bess_mw.map(Math.abs))>0.1;if(selectedBESS==='no_bess'&&hasBESS)return false;if(selectedBESS==='with_bess'&&!hasBESS)return false;}return true;});},[data,selectedLoadType,selectedArchitecture,selectedBESS]);// Get current scenario\nconst currentScenario=useMemo(()=>{if(!data||!data.scenarios)return null;return data.scenarios.find(s=>s.name===selectedScenario);},[data,selectedScenario]);// Render loading state\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Sidebar,{metadata:null,loadTypes:LOAD_TYPES,architectures:ARCHITECTURES,bessOptions:BESS_OPTIONS,selectedLoadType:selectedLoadType,selectedArchitecture:selectedArchitecture,selectedBESS:selectedBESS,onLoadTypeChange:setSelectedLoadType,onArchitectureChange:setSelectedArchitecture,onBESSChange:setSelectedBESS,scenarios:[],selectedScenario:null,onScenarioChange:()=>{}}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading simulation results...\"})]})})]});}// Render error state\nif(error&&!data){return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Sidebar,{metadata:null,loadTypes:LOAD_TYPES,architectures:ARCHITECTURES,bessOptions:BESS_OPTIONS,selectedLoadType:selectedLoadType,selectedArchitecture:selectedArchitecture,selectedBESS:selectedBESS,onLoadTypeChange:setSelectedLoadType,onArchitectureChange:setSelectedArchitecture,onBESSChange:setSelectedBESS,scenarios:[],selectedScenario:null,onScenarioChange:()=>{}}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Error Loading Data\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"p\",{children:\"Please ensure simulation_results.json is in the public/data/ directory.\"})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Sidebar,{metadata:data===null||data===void 0?void 0:data.metadata,loadTypes:LOAD_TYPES,architectures:ARCHITECTURES,bessOptions:BESS_OPTIONS,selectedLoadType:selectedLoadType,selectedArchitecture:selectedArchitecture,selectedBESS:selectedBESS,onLoadTypeChange:setSelectedLoadType,onArchitectureChange:setSelectedArchitecture,onBESSChange:setSelectedBESS,scenarios:filteredScenarios,selectedScenario:selectedScenario,onScenarioChange:setSelectedScenario}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(PageHeader,{metadata:data===null||data===void 0?void 0:data.metadata}),currentScenario?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScenarioInfo,{scenario:currentScenario}),/*#__PURE__*/_jsx(SummaryCards,{scenario:currentScenario}),/*#__PURE__*/_jsx(ChartSection,{scenario:currentScenario}),/*#__PURE__*/_jsx(ViolationsSection,{scenario:currentScenario})]}):/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a scenario from the sidebar to view results.\"})})]})]});}// Sidebar Component\nfunction Sidebar(_ref){let{metadata,loadTypes,architectures,bessOptions,selectedLoadType,selectedArchitecture,selectedBESS,onLoadTypeChange,onArchitectureChange,onBESSChange,scenarios,selectedScenario,onScenarioChange}=_ref;return/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-title\",children:\"\\u26A1 Power Flow Study\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sidebar-subtitle\",children:\"Planning-Level Analysis\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sidebar-section-title\",children:\"Load Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selector-group\",children:loadTypes.map(lt=>/*#__PURE__*/_jsx(\"button\",{className:\"selector-button \".concat(selectedLoadType===lt.id?'active':''),onClick:()=>onLoadTypeChange(lt.id),children:lt.label},lt.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sidebar-section-title\",children:\"Architecture\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selector-group\",children:architectures.map(arch=>/*#__PURE__*/_jsx(\"button\",{className:\"selector-button \".concat(selectedArchitecture===arch.id?'active':''),onClick:()=>onArchitectureChange(arch.id),children:arch.label},arch.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"sidebar-section-title\",children:\"BESS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"selector-group\",children:bessOptions.map(opt=>/*#__PURE__*/_jsx(\"button\",{className:\"selector-button \".concat(selectedBESS===opt.id?'active':''),onClick:()=>onBESSChange(opt.id),children:opt.label},opt.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"sidebar-section-title\",children:[\"Scenarios (\",scenarios.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"selector-group\",style:{maxHeight:'200px',overflowY:'auto'},children:scenarios.map(scenario=>/*#__PURE__*/_jsx(\"button\",{className:\"selector-button \".concat(selectedScenario===scenario.name?'active':''),onClick:()=>onScenarioChange(scenario.name),style:{fontSize:'0.75rem'},children:formatScenarioName(scenario.name)},scenario.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"disclaimer-box\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"disclaimer-title\",children:\"\\u26A0\\uFE0F Planning Only\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This is a planning-level study using positive-sequence, steady-state power flow. Results are NOT suitable for operational decisions.\"})]})]});}// Page Header\nfunction PageHeader(_ref2){let{metadata}=_ref2;return/*#__PURE__*/_jsxs(\"header\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:(metadata===null||metadata===void 0?void 0:metadata.name)||'Data Center Power Flow Study'}),/*#__PURE__*/_jsx(\"p\",{className:\"page-description\",children:(metadata===null||metadata===void 0?void 0:metadata.description)||'Planning-level electrical simulation results'})]});}// Scenario Info\nfunction ScenarioInfo(_ref3){var _scenario$power_facto;let{scenario}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-label\",children:\"Load Type\"}),/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-value\",children:formatLabel(scenario.load_type)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-label\",children:\"Architecture\"}),/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-value\",children:formatLabel(scenario.architecture)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-label\",children:\"Power Factor\"}),/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-value\",children:(_scenario$power_facto=scenario.power_factor)===null||_scenario$power_facto===void 0?void 0:_scenario$power_facto.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"scenario-info-label\",children:\"Intervals\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"scenario-info-value\",children:[scenario.n_intervals,\" \\xD7 \",scenario.interval_minutes,\" min\"]})]})]});}// Summary Cards\nfunction SummaryCards(_ref4){var _scenario$violations,_summary$voltage,_summary$voltage2,_summary$voltage2$min,_summary$voltage3,_summary$voltage3$max,_summary$transformer,_summary$transformer2,_summary$transformer3,_summary$grid,_summary$grid$max_imp,_summary$load,_summary$load$total_e,_summary$bess,_summary$bess$max_dis;let{scenario}=_ref4;const summary=scenario.summary;const violations=((_scenario$violations=scenario.violations)===null||_scenario$violations===void 0?void 0:_scenario$violations.count)||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card \".concat(getVoltageStatus(summary===null||summary===void 0?void 0:(_summary$voltage=summary.voltage)===null||_summary$voltage===void 0?void 0:_summary$voltage.min_pu)),children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Voltage Range\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[summary===null||summary===void 0?void 0:(_summary$voltage2=summary.voltage)===null||_summary$voltage2===void 0?void 0:(_summary$voltage2$min=_summary$voltage2.min_pu)===null||_summary$voltage2$min===void 0?void 0:_summary$voltage2$min.toFixed(3),\" - \",summary===null||summary===void 0?void 0:(_summary$voltage3=summary.voltage)===null||_summary$voltage3===void 0?void 0:(_summary$voltage3$max=_summary$voltage3.max_pu)===null||_summary$voltage3$max===void 0?void 0:_summary$voltage3$max.toFixed(3),/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"p.u.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card \".concat(getLoadingStatus(summary===null||summary===void 0?void 0:(_summary$transformer=summary.transformer)===null||_summary$transformer===void 0?void 0:_summary$transformer.max_loading_pct)),children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Max Transformer Loading\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[summary===null||summary===void 0?void 0:(_summary$transformer2=summary.transformer)===null||_summary$transformer2===void 0?void 0:(_summary$transformer3=_summary$transformer2.max_loading_pct)===null||_summary$transformer3===void 0?void 0:_summary$transformer3.toFixed(1),/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Peak Grid Import\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[summary===null||summary===void 0?void 0:(_summary$grid=summary.grid)===null||_summary$grid===void 0?void 0:(_summary$grid$max_imp=_summary$grid.max_import_mw)===null||_summary$grid$max_imp===void 0?void 0:_summary$grid$max_imp.toFixed(1),/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"MW\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Total Energy\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[summary===null||summary===void 0?void 0:(_summary$load=summary.load)===null||_summary$load===void 0?void 0:(_summary$load$total_e=_summary$load.total_energy_mwh)===null||_summary$load$total_e===void 0?void 0:_summary$load$total_e.toFixed(0),/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"MWh\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"BESS Max Discharge\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[(summary===null||summary===void 0?void 0:(_summary$bess=summary.bess)===null||_summary$bess===void 0?void 0:(_summary$bess$max_dis=_summary$bess.max_discharge_mw)===null||_summary$bess$max_dis===void 0?void 0:_summary$bess$max_dis.toFixed(1))||'0.0',/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"MW\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card \".concat(violations>0?'error':'success'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Violations\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"summary-value\",children:[violations,/*#__PURE__*/_jsx(\"span\",{className:\"summary-unit\",children:\"intervals\"})]})]})]});}// Chart Section\nfunction ChartSection(_ref5){let{scenario}=_ref5;const time=scenario.time;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Bus Voltage\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"Data Center Main Bus\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.voltage_pu,type:'scatter',mode:'lines',name:'Voltage',line:{color:COLORS.voltage,width:2}},{x:[time[0],time[time.length-1]],y:[0.95,0.95],type:'scatter',mode:'lines',name:'Min Limit',line:{color:COLORS.bess,width:1,dash:'dash'}},{x:[time[0],time[time.length-1]],y:[1.05,1.05],type:'scatter',mode:'lines',name:'Max Limit',line:{color:COLORS.bess,width:1,dash:'dash'}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'Voltage (p.u.)',range:[0.92,1.08]})}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Transformer Loading\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"Main Transformer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.transformer_loading_pct,type:'scatter',mode:'lines',fill:'tozeroy',name:'Loading',line:{color:COLORS.transformer,width:2},fillcolor:'rgba(128, 90, 213, 0.2)'},{x:[time[0],time[time.length-1]],y:[100,100],type:'scatter',mode:'lines',name:'Rating',line:{color:COLORS.bess,width:2,dash:'dash'}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'Loading (%)',range:[0,120]})}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Grid Power Exchange\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"POI Active & Reactive Power\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.grid_mw,type:'scatter',mode:'lines',name:'P (MW)',line:{color:COLORS.gridMW,width:2}},{x:time,y:scenario.grid_mvar,type:'scatter',mode:'lines',name:'Q (MVAr)',line:{color:COLORS.gridMVAr,width:2}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'Power (MW / MVAr)'})}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Load Profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"Data Center Aggregated Load\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.load_p_mw,type:'scatter',mode:'lines',fill:'tozeroy',name:'P (MW)',line:{color:COLORS.load,width:2},fillcolor:'rgba(214, 158, 46, 0.2)'},{x:time,y:scenario.load_q_mvar,type:'scatter',mode:'lines',name:'Q (MVAr)',line:{color:COLORS.soc,width:2}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'Power (MW / MVAr)'})}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"BESS Dispatch\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"Positive = Discharge, Negative = Charge\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.bess_mw,type:'bar',name:'BESS Power',marker:{color:scenario.bess_mw.map(v=>v>=0?COLORS.gridMW:COLORS.voltage)}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'Power (MW)'}),bargap:0.1}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"BESS State of Charge\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:\"SOC Profile\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Plot,{data:[{x:time,y:scenario.bess_soc.map(s=>s*100),type:'scatter',mode:'lines',fill:'tozeroy',name:'SOC',line:{color:COLORS.soc,width:2},fillcolor:'rgba(221, 107, 32, 0.2)'},{x:[time[0],time[time.length-1]],y:[10,10],type:'scatter',mode:'lines',name:'Min SOC',line:{color:COLORS.bess,width:1,dash:'dash'}},{x:[time[0],time[time.length-1]],y:[90,90],type:'scatter',mode:'lines',name:'Max SOC',line:{color:COLORS.bess,width:1,dash:'dash'}}],layout:_objectSpread(_objectSpread({},defaultLayout),{},{yaxis:_objectSpread(_objectSpread({},defaultLayout.yaxis),{},{title:'SOC (%)',range:[0,100]})}),useResizeHandler:true,style:{width:'100%',height:'100%'},config:{responsive:true,displayModeBar:false}})})]})]})]});}// Violations Section\nfunction ViolationsSection(_ref6){var _violations$details,_violations$details2;let{scenario}=_ref6;const violations=scenario.violations;if(!violations||violations.count===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Constraint Violations\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--color-success)'},children:\"\\u2713 No constraint violations detected in this scenario.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Constraint Violations\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"card-subtitle\",children:[violations.count,\" violations detected\"]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"violations-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Time (h)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Limit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actual\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Severity\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(_violations$details=violations.details)===null||_violations$details===void 0?void 0:_violations$details.slice(0,10).map((v,i)=>{var _v$time_hours,_v$limit_pu,_v$limit_pct,_v$actual_pu,_v$actual_pct;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(_v$time_hours=v.time_hours)===null||_v$time_hours===void 0?void 0:_v$time_hours.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:formatLabel(v.type)}),/*#__PURE__*/_jsx(\"td\",{children:v.location}),/*#__PURE__*/_jsx(\"td\",{children:((_v$limit_pu=v.limit_pu)===null||_v$limit_pu===void 0?void 0:_v$limit_pu.toFixed(3))||((_v$limit_pct=v.limit_pct)===null||_v$limit_pct===void 0?void 0:_v$limit_pct.toFixed(1))}),/*#__PURE__*/_jsx(\"td\",{children:((_v$actual_pu=v.actual_pu)===null||_v$actual_pu===void 0?void 0:_v$actual_pu.toFixed(3))||((_v$actual_pct=v.actual_pct)===null||_v$actual_pct===void 0?void 0:_v$actual_pct.toFixed(1))}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"violation-badge \".concat(v.severity),children:v.severity})})]},i);})})]}),((_violations$details2=violations.details)===null||_violations$details2===void 0?void 0:_violations$details2.length)>10&&/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'var(--spacing-md)',color:'var(--color-gray-500)'},children:[\"Showing first 10 of \",violations.details.length,\" violations.\"]})]});}// Helper functions\nfunction formatScenarioName(name){return name.replace(/_/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase()).replace('Ac ','AC ').replace('Dc ','DC ').replace('Bess','BESS').replace('Mw','MW');}function formatLabel(label){if(!label)return'';return label.replace(/_/g,' ').replace(/\\b\\w/g,c=>c.toUpperCase()).replace('Ac ','AC ').replace('Dc ','DC ');}function getVoltageStatus(minVoltage){if(!minVoltage)return'';if(minVoltage<0.95)return'error';if(minVoltage<0.97)return'warning';return'success';}function getLoadingStatus(maxLoading){if(!maxLoading)return'';if(maxLoading>100)return'error';if(maxLoading>80)return'warning';return'success';}export default App;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Plot","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LOAD_TYPES","id","label","ARCHITECTURES","BESS_OPTIONS","COLORS","voltage","transformer","gridMW","gridMVAr","load","bess","soc","defaultLayout","autosize","margin","l","r","t","b","paper_bgcolor","plot_bgcolor","font","family","size","xaxis","title","gridcolor","linecolor","yaxis","legend","orientation","yanchor","y","xanchor","x","App","data","setData","loading","setLoading","error","setError","selectedLoadType","setSelectedLoadType","selectedArchitecture","setSelectedArchitecture","selectedBESS","setSelectedBESS","selectedScenario","setSelectedScenario","loadData","response","fetch","ok","Error","jsonData","json","scenarios","length","name","err","console","message","sampleResponse","sampleData","sampleErr","filteredScenarios","filter","scenario","load_type","architecture","hasBESS","bess_mw","Math","max","map","abs","currentScenario","find","s","className","children","Sidebar","metadata","loadTypes","architectures","bessOptions","onLoadTypeChange","onArchitectureChange","onBESSChange","onScenarioChange","PageHeader","ScenarioInfo","SummaryCards","ChartSection","ViolationsSection","_ref","lt","concat","onClick","arch","opt","style","maxHeight","overflowY","fontSize","formatScenarioName","_ref2","description","_ref3","_scenario$power_facto","formatLabel","power_factor","toFixed","n_intervals","interval_minutes","_ref4","_scenario$violations","_summary$voltage","_summary$voltage2","_summary$voltage2$min","_summary$voltage3","_summary$voltage3$max","_summary$transformer","_summary$transformer2","_summary$transformer3","_summary$grid","_summary$grid$max_imp","_summary$load","_summary$load$total_e","_summary$bess","_summary$bess$max_dis","summary","violations","count","getVoltageStatus","min_pu","max_pu","getLoadingStatus","max_loading_pct","grid","max_import_mw","total_energy_mwh","max_discharge_mw","_ref5","time","voltage_pu","type","mode","line","color","width","dash","layout","_objectSpread","range","useResizeHandler","height","config","responsive","displayModeBar","transformer_loading_pct","fill","fillcolor","grid_mw","grid_mvar","load_p_mw","load_q_mvar","marker","v","bargap","bess_soc","_ref6","_violations$details","_violations$details2","details","slice","i","_v$time_hours","_v$limit_pu","_v$limit_pct","_v$actual_pu","_v$actual_pct","time_hours","location","limit_pu","limit_pct","actual_pu","actual_pct","severity","marginTop","replace","c","toUpperCase","minVoltage","maxLoading"],"sources":["/workspace/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Plot from 'react-plotly.js';\n\n/**\n * Data Center Power Flow Study - Static UI\n * \n * This is a PLANNING-LEVEL visualization tool.\n * It loads precomputed power flow results and displays them.\n * There is NO live simulation or calculation in the browser.\n * \n * Purpose: Educational and explanatory\n * NOT for: Operational decisions or interconnection approval\n */\n\n// Constants for scenario filtering\nconst LOAD_TYPES = [\n  { id: 'all', label: 'All Load Types' },\n  { id: 'training', label: 'Training' },\n  { id: 'inference', label: 'Inference' },\n  { id: 'mixed', label: 'Mixed' }\n];\n\nconst ARCHITECTURES = [\n  { id: 'all', label: 'All Architectures' },\n  { id: 'ac_traditional', label: 'AC Traditional' },\n  { id: 'dc_48v', label: '48V DC' },\n  { id: 'dc_800v', label: '800V DC' }\n];\n\nconst BESS_OPTIONS = [\n  { id: 'all', label: 'All BESS Options' },\n  { id: 'no_bess', label: 'No BESS' },\n  { id: 'with_bess', label: 'With BESS' }\n];\n\n// Chart colors\nconst COLORS = {\n  voltage: '#3182ce',\n  transformer: '#805ad5',\n  gridMW: '#38a169',\n  gridMVAr: '#319795',\n  load: '#d69e2e',\n  bess: '#e53e3e',\n  soc: '#dd6b20'\n};\n\n// Plotly layout defaults\nconst defaultLayout = {\n  autosize: true,\n  margin: { l: 60, r: 30, t: 40, b: 50 },\n  paper_bgcolor: 'transparent',\n  plot_bgcolor: 'white',\n  font: { family: 'Inter, sans-serif', size: 12 },\n  xaxis: {\n    title: 'Time (hours)',\n    gridcolor: '#e2e8f0',\n    linecolor: '#cbd5e0'\n  },\n  yaxis: {\n    gridcolor: '#e2e8f0',\n    linecolor: '#cbd5e0'\n  },\n  legend: {\n    orientation: 'h',\n    yanchor: 'bottom',\n    y: 1.02,\n    xanchor: 'right',\n    x: 1\n  }\n};\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Filters\n  const [selectedLoadType, setSelectedLoadType] = useState('all');\n  const [selectedArchitecture, setSelectedArchitecture] = useState('all');\n  const [selectedBESS, setSelectedBESS] = useState('all');\n  const [selectedScenario, setSelectedScenario] = useState(null);\n\n  // Load data on mount\n  useEffect(() => {\n    async function loadData() {\n      try {\n        // Try to load the simulation results\n        const response = await fetch('./data/simulation_results.json');\n        if (!response.ok) {\n          throw new Error('Failed to load simulation results');\n        }\n        const jsonData = await response.json();\n        setData(jsonData);\n        \n        // Select first scenario by default\n        if (jsonData.scenarios && jsonData.scenarios.length > 0) {\n          setSelectedScenario(jsonData.scenarios[0].name);\n        }\n      } catch (err) {\n        console.error('Error loading data:', err);\n        setError(err.message);\n        \n        // Load sample data for development\n        try {\n          const sampleResponse = await fetch('./data/sample_results.json');\n          if (sampleResponse.ok) {\n            const sampleData = await sampleResponse.json();\n            setData(sampleData);\n            if (sampleData.scenarios && sampleData.scenarios.length > 0) {\n              setSelectedScenario(sampleData.scenarios[0].name);\n            }\n            setError(null);\n          }\n        } catch (sampleErr) {\n          // Keep original error\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n    \n    loadData();\n  }, []);\n\n  // Filter scenarios\n  const filteredScenarios = useMemo(() => {\n    if (!data || !data.scenarios) return [];\n    \n    return data.scenarios.filter(scenario => {\n      if (selectedLoadType !== 'all' && scenario.load_type !== selectedLoadType) {\n        return false;\n      }\n      if (selectedArchitecture !== 'all' && scenario.architecture !== selectedArchitecture) {\n        return false;\n      }\n      if (selectedBESS !== 'all') {\n        const hasBESS = scenario.bess_mw && Math.max(...scenario.bess_mw.map(Math.abs)) > 0.1;\n        if (selectedBESS === 'no_bess' && hasBESS) return false;\n        if (selectedBESS === 'with_bess' && !hasBESS) return false;\n      }\n      return true;\n    });\n  }, [data, selectedLoadType, selectedArchitecture, selectedBESS]);\n\n  // Get current scenario\n  const currentScenario = useMemo(() => {\n    if (!data || !data.scenarios) return null;\n    return data.scenarios.find(s => s.name === selectedScenario);\n  }, [data, selectedScenario]);\n\n  // Render loading state\n  if (loading) {\n    return (\n      <div className=\"app-container\">\n        <Sidebar\n          metadata={null}\n          loadTypes={LOAD_TYPES}\n          architectures={ARCHITECTURES}\n          bessOptions={BESS_OPTIONS}\n          selectedLoadType={selectedLoadType}\n          selectedArchitecture={selectedArchitecture}\n          selectedBESS={selectedBESS}\n          onLoadTypeChange={setSelectedLoadType}\n          onArchitectureChange={setSelectedArchitecture}\n          onBESSChange={setSelectedBESS}\n          scenarios={[]}\n          selectedScenario={null}\n          onScenarioChange={() => {}}\n        />\n        <main className=\"main-content\">\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p>Loading simulation results...</p>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  // Render error state\n  if (error && !data) {\n    return (\n      <div className=\"app-container\">\n        <Sidebar\n          metadata={null}\n          loadTypes={LOAD_TYPES}\n          architectures={ARCHITECTURES}\n          bessOptions={BESS_OPTIONS}\n          selectedLoadType={selectedLoadType}\n          selectedArchitecture={selectedArchitecture}\n          selectedBESS={selectedBESS}\n          onLoadTypeChange={setSelectedLoadType}\n          onArchitectureChange={setSelectedArchitecture}\n          onBESSChange={setSelectedBESS}\n          scenarios={[]}\n          selectedScenario={null}\n          onScenarioChange={() => {}}\n        />\n        <main className=\"main-content\">\n          <div className=\"error-container\">\n            <h2>Error Loading Data</h2>\n            <p>{error}</p>\n            <p>Please ensure simulation_results.json is in the public/data/ directory.</p>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app-container\">\n      <Sidebar\n        metadata={data?.metadata}\n        loadTypes={LOAD_TYPES}\n        architectures={ARCHITECTURES}\n        bessOptions={BESS_OPTIONS}\n        selectedLoadType={selectedLoadType}\n        selectedArchitecture={selectedArchitecture}\n        selectedBESS={selectedBESS}\n        onLoadTypeChange={setSelectedLoadType}\n        onArchitectureChange={setSelectedArchitecture}\n        onBESSChange={setSelectedBESS}\n        scenarios={filteredScenarios}\n        selectedScenario={selectedScenario}\n        onScenarioChange={setSelectedScenario}\n      />\n      <main className=\"main-content\">\n        <PageHeader metadata={data?.metadata} />\n        \n        {currentScenario ? (\n          <>\n            <ScenarioInfo scenario={currentScenario} />\n            <SummaryCards scenario={currentScenario} />\n            <ChartSection scenario={currentScenario} />\n            <ViolationsSection scenario={currentScenario} />\n          </>\n        ) : (\n          <div className=\"card\">\n            <p>Select a scenario from the sidebar to view results.</p>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\n// Sidebar Component\nfunction Sidebar({\n  metadata,\n  loadTypes,\n  architectures,\n  bessOptions,\n  selectedLoadType,\n  selectedArchitecture,\n  selectedBESS,\n  onLoadTypeChange,\n  onArchitectureChange,\n  onBESSChange,\n  scenarios,\n  selectedScenario,\n  onScenarioChange\n}) {\n  return (\n    <aside className=\"sidebar\">\n      <div className=\"sidebar-header\">\n        <h1 className=\"sidebar-title\">⚡ Power Flow Study</h1>\n        <p className=\"sidebar-subtitle\">Planning-Level Analysis</p>\n      </div>\n\n      <div className=\"sidebar-section\">\n        <h2 className=\"sidebar-section-title\">Load Type</h2>\n        <div className=\"selector-group\">\n          {loadTypes.map(lt => (\n            <button\n              key={lt.id}\n              className={`selector-button ${selectedLoadType === lt.id ? 'active' : ''}`}\n              onClick={() => onLoadTypeChange(lt.id)}\n            >\n              {lt.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"sidebar-section\">\n        <h2 className=\"sidebar-section-title\">Architecture</h2>\n        <div className=\"selector-group\">\n          {architectures.map(arch => (\n            <button\n              key={arch.id}\n              className={`selector-button ${selectedArchitecture === arch.id ? 'active' : ''}`}\n              onClick={() => onArchitectureChange(arch.id)}\n            >\n              {arch.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"sidebar-section\">\n        <h2 className=\"sidebar-section-title\">BESS</h2>\n        <div className=\"selector-group\">\n          {bessOptions.map(opt => (\n            <button\n              key={opt.id}\n              className={`selector-button ${selectedBESS === opt.id ? 'active' : ''}`}\n              onClick={() => onBESSChange(opt.id)}\n            >\n              {opt.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"sidebar-section\">\n        <h2 className=\"sidebar-section-title\">Scenarios ({scenarios.length})</h2>\n        <div className=\"selector-group\" style={{ maxHeight: '200px', overflowY: 'auto' }}>\n          {scenarios.map(scenario => (\n            <button\n              key={scenario.name}\n              className={`selector-button ${selectedScenario === scenario.name ? 'active' : ''}`}\n              onClick={() => onScenarioChange(scenario.name)}\n              style={{ fontSize: '0.75rem' }}\n            >\n              {formatScenarioName(scenario.name)}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"disclaimer-box\">\n        <p className=\"disclaimer-title\">⚠️ Planning Only</p>\n        <p>\n          This is a planning-level study using positive-sequence, steady-state \n          power flow. Results are NOT suitable for operational decisions.\n        </p>\n      </div>\n    </aside>\n  );\n}\n\n// Page Header\nfunction PageHeader({ metadata }) {\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">\n        {metadata?.name || 'Data Center Power Flow Study'}\n      </h1>\n      <p className=\"page-description\">\n        {metadata?.description || 'Planning-level electrical simulation results'}\n      </p>\n    </header>\n  );\n}\n\n// Scenario Info\nfunction ScenarioInfo({ scenario }) {\n  return (\n    <div className=\"scenario-info\">\n      <div className=\"scenario-info-item\">\n        <span className=\"scenario-info-label\">Load Type</span>\n        <span className=\"scenario-info-value\">{formatLabel(scenario.load_type)}</span>\n      </div>\n      <div className=\"scenario-info-item\">\n        <span className=\"scenario-info-label\">Architecture</span>\n        <span className=\"scenario-info-value\">{formatLabel(scenario.architecture)}</span>\n      </div>\n      <div className=\"scenario-info-item\">\n        <span className=\"scenario-info-label\">Power Factor</span>\n        <span className=\"scenario-info-value\">{scenario.power_factor?.toFixed(2)}</span>\n      </div>\n      <div className=\"scenario-info-item\">\n        <span className=\"scenario-info-label\">Intervals</span>\n        <span className=\"scenario-info-value\">{scenario.n_intervals} × {scenario.interval_minutes} min</span>\n      </div>\n    </div>\n  );\n}\n\n// Summary Cards\nfunction SummaryCards({ scenario }) {\n  const summary = scenario.summary;\n  const violations = scenario.violations?.count || 0;\n  \n  return (\n    <div className=\"summary-grid\">\n      <div className={`summary-card ${getVoltageStatus(summary?.voltage?.min_pu)}`}>\n        <p className=\"summary-label\">Voltage Range</p>\n        <p className=\"summary-value\">\n          {summary?.voltage?.min_pu?.toFixed(3)} - {summary?.voltage?.max_pu?.toFixed(3)}\n          <span className=\"summary-unit\">p.u.</span>\n        </p>\n      </div>\n      \n      <div className={`summary-card ${getLoadingStatus(summary?.transformer?.max_loading_pct)}`}>\n        <p className=\"summary-label\">Max Transformer Loading</p>\n        <p className=\"summary-value\">\n          {summary?.transformer?.max_loading_pct?.toFixed(1)}\n          <span className=\"summary-unit\">%</span>\n        </p>\n      </div>\n      \n      <div className=\"summary-card\">\n        <p className=\"summary-label\">Peak Grid Import</p>\n        <p className=\"summary-value\">\n          {summary?.grid?.max_import_mw?.toFixed(1)}\n          <span className=\"summary-unit\">MW</span>\n        </p>\n      </div>\n      \n      <div className=\"summary-card\">\n        <p className=\"summary-label\">Total Energy</p>\n        <p className=\"summary-value\">\n          {summary?.load?.total_energy_mwh?.toFixed(0)}\n          <span className=\"summary-unit\">MWh</span>\n        </p>\n      </div>\n      \n      <div className=\"summary-card\">\n        <p className=\"summary-label\">BESS Max Discharge</p>\n        <p className=\"summary-value\">\n          {summary?.bess?.max_discharge_mw?.toFixed(1) || '0.0'}\n          <span className=\"summary-unit\">MW</span>\n        </p>\n      </div>\n      \n      <div className={`summary-card ${violations > 0 ? 'error' : 'success'}`}>\n        <p className=\"summary-label\">Violations</p>\n        <p className=\"summary-value\">\n          {violations}\n          <span className=\"summary-unit\">intervals</span>\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// Chart Section\nfunction ChartSection({ scenario }) {\n  const time = scenario.time;\n  \n  return (\n    <>\n      <div className=\"chart-row\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">Bus Voltage</h3>\n            <span className=\"card-subtitle\">Data Center Main Bus</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.voltage_pu,\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Voltage',\n                  line: { color: COLORS.voltage, width: 2 }\n                },\n                {\n                  x: [time[0], time[time.length - 1]],\n                  y: [0.95, 0.95],\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Min Limit',\n                  line: { color: COLORS.bess, width: 1, dash: 'dash' }\n                },\n                {\n                  x: [time[0], time[time.length - 1]],\n                  y: [1.05, 1.05],\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Max Limit',\n                  line: { color: COLORS.bess, width: 1, dash: 'dash' }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'Voltage (p.u.)', range: [0.92, 1.08] }\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">Transformer Loading</h3>\n            <span className=\"card-subtitle\">Main Transformer</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.transformer_loading_pct,\n                  type: 'scatter',\n                  mode: 'lines',\n                  fill: 'tozeroy',\n                  name: 'Loading',\n                  line: { color: COLORS.transformer, width: 2 },\n                  fillcolor: 'rgba(128, 90, 213, 0.2)'\n                },\n                {\n                  x: [time[0], time[time.length - 1]],\n                  y: [100, 100],\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Rating',\n                  line: { color: COLORS.bess, width: 2, dash: 'dash' }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'Loading (%)', range: [0, 120] }\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"chart-row\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">Grid Power Exchange</h3>\n            <span className=\"card-subtitle\">POI Active & Reactive Power</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.grid_mw,\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'P (MW)',\n                  line: { color: COLORS.gridMW, width: 2 }\n                },\n                {\n                  x: time,\n                  y: scenario.grid_mvar,\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Q (MVAr)',\n                  line: { color: COLORS.gridMVAr, width: 2 }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'Power (MW / MVAr)' }\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">Load Profile</h3>\n            <span className=\"card-subtitle\">Data Center Aggregated Load</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.load_p_mw,\n                  type: 'scatter',\n                  mode: 'lines',\n                  fill: 'tozeroy',\n                  name: 'P (MW)',\n                  line: { color: COLORS.load, width: 2 },\n                  fillcolor: 'rgba(214, 158, 46, 0.2)'\n                },\n                {\n                  x: time,\n                  y: scenario.load_q_mvar,\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Q (MVAr)',\n                  line: { color: COLORS.soc, width: 2 }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'Power (MW / MVAr)' }\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"chart-row\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">BESS Dispatch</h3>\n            <span className=\"card-subtitle\">Positive = Discharge, Negative = Charge</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.bess_mw,\n                  type: 'bar',\n                  name: 'BESS Power',\n                  marker: {\n                    color: scenario.bess_mw.map(v => v >= 0 ? COLORS.gridMW : COLORS.voltage)\n                  }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'Power (MW)' },\n                bargap: 0.1\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title\">BESS State of Charge</h3>\n            <span className=\"card-subtitle\">SOC Profile</span>\n          </div>\n          <div className=\"chart-container\">\n            <Plot\n              data={[\n                {\n                  x: time,\n                  y: scenario.bess_soc.map(s => s * 100),\n                  type: 'scatter',\n                  mode: 'lines',\n                  fill: 'tozeroy',\n                  name: 'SOC',\n                  line: { color: COLORS.soc, width: 2 },\n                  fillcolor: 'rgba(221, 107, 32, 0.2)'\n                },\n                {\n                  x: [time[0], time[time.length - 1]],\n                  y: [10, 10],\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Min SOC',\n                  line: { color: COLORS.bess, width: 1, dash: 'dash' }\n                },\n                {\n                  x: [time[0], time[time.length - 1]],\n                  y: [90, 90],\n                  type: 'scatter',\n                  mode: 'lines',\n                  name: 'Max SOC',\n                  line: { color: COLORS.bess, width: 1, dash: 'dash' }\n                }\n              ]}\n              layout={{\n                ...defaultLayout,\n                yaxis: { ...defaultLayout.yaxis, title: 'SOC (%)', range: [0, 100] }\n              }}\n              useResizeHandler={true}\n              style={{ width: '100%', height: '100%' }}\n              config={{ responsive: true, displayModeBar: false }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\n// Violations Section\nfunction ViolationsSection({ scenario }) {\n  const violations = scenario.violations;\n  \n  if (!violations || violations.count === 0) {\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">Constraint Violations</h3>\n        </div>\n        <p style={{ color: 'var(--color-success)' }}>\n          ✓ No constraint violations detected in this scenario.\n        </p>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">Constraint Violations</h3>\n        <span className=\"card-subtitle\">{violations.count} violations detected</span>\n      </div>\n      \n      <table className=\"violations-table\">\n        <thead>\n          <tr>\n            <th>Time (h)</th>\n            <th>Type</th>\n            <th>Location</th>\n            <th>Limit</th>\n            <th>Actual</th>\n            <th>Severity</th>\n          </tr>\n        </thead>\n        <tbody>\n          {violations.details?.slice(0, 10).map((v, i) => (\n            <tr key={i}>\n              <td>{v.time_hours?.toFixed(2)}</td>\n              <td>{formatLabel(v.type)}</td>\n              <td>{v.location}</td>\n              <td>{v.limit_pu?.toFixed(3) || v.limit_pct?.toFixed(1)}</td>\n              <td>{v.actual_pu?.toFixed(3) || v.actual_pct?.toFixed(1)}</td>\n              <td>\n                <span className={`violation-badge ${v.severity}`}>\n                  {v.severity}\n                </span>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      \n      {violations.details?.length > 10 && (\n        <p style={{ marginTop: 'var(--spacing-md)', color: 'var(--color-gray-500)' }}>\n          Showing first 10 of {violations.details.length} violations.\n        </p>\n      )}\n    </div>\n  );\n}\n\n// Helper functions\nfunction formatScenarioName(name) {\n  return name\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, c => c.toUpperCase())\n    .replace('Ac ', 'AC ')\n    .replace('Dc ', 'DC ')\n    .replace('Bess', 'BESS')\n    .replace('Mw', 'MW');\n}\n\nfunction formatLabel(label) {\n  if (!label) return '';\n  return label\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, c => c.toUpperCase())\n    .replace('Ac ', 'AC ')\n    .replace('Dc ', 'DC ');\n}\n\nfunction getVoltageStatus(minVoltage) {\n  if (!minVoltage) return '';\n  if (minVoltage < 0.95) return 'error';\n  if (minVoltage < 0.97) return 'warning';\n  return 'success';\n}\n\nfunction getLoadingStatus(maxLoading) {\n  if (!maxLoading) return '';\n  if (maxLoading > 100) return 'error';\n  if (maxLoading > 80) return 'warning';\n  return 'success';\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}